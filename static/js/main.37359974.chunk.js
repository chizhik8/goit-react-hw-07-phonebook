(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{38:function(t,e,n){},62:function(t,e,n){},64:function(t,e,n){},65:function(t,e,n){"use strict";n.r(e);var c=n(0),a=n(9),o=n.n(a),r=(n(38),n(10)),s=n(11),u=n(13),i=n(12),b=n(8),d=n(3),j=n(16),l=n.n(j),f=n(2),h=Object(f.b)("contacts/addRequest"),O=Object(f.b)("contacts/addSuccess"),m=Object(f.b)("contacts/addError"),C=Object(f.b)("contacts/fetchRequest"),p=Object(f.b)("contacts/fetchSuccess"),v=Object(f.b)("contacts/fetchError"),g=Object(f.b)("contacts/removeRequest"),x={addContactsRequest:h,addContactsSuccess:O,addContactsError:m,fetchContactsRequest:C,fetchContactsSuccess:p,fetchContactsError:v,removeContactsSuccess:Object(f.b)("contacts/removeSuccess"),removeContactsRequest:g,removeContactsError:Object(f.b)("contacts/removeError"),addFilter:Object(f.b)("contacts/addFilter",(function(t){return{payload:{filter:t}}}))};l.a.defaults.baseURL="http://localhost:2000";var y={addContacts:function(t,e){return function(n){n(x.addContactsRequest()),l.a.post("/contacts",{name:t,number:e}).then((function(t){n(x.addContactsSuccess(t.data))})).catch((function(t){return n(x.addContactsError(t))}))}},fetchContacts:function(){return function(t){t(x.fetchContactsRequest()),l.a.get("/contacts").then((function(e){var n=e.data;return t(x.fetchContactsSuccess(n))})).catch((function(e){return t(x.fetchContactsError(e))}))}},removeContact:function(t){return function(e){e(x.removeContactsRequest()),l.a.delete("/contacts/".concat(t)).then((function(){return e(x.removeContactsSuccess(t))})).catch((function(t){return e(x.removeContactsError(t))}))}}},S=(n(62),n(1)),R=function(t){Object(u.a)(n,t);var e=Object(i.a)(n);function n(){var t;Object(r.a)(this,n);for(var c=arguments.length,a=new Array(c),o=0;o<c;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))).state={name:"",number:""},t.handleInput=function(e){var n=e.target,c=n.name,a=n.value;t.setState((function(){return Object(d.a)({},c,a)}))},t.handleSubmit=function(e){var n=t.state,c=n.name,a=n.number;e.preventDefault(),t.props.onAddContacts(c,a),t.setState({name:"",number:""})},t}return Object(s.a)(n,[{key:"render",value:function(){return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("h1",{children:"Phonebook"}),Object(S.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(S.jsxs)("label",{children:["Name",Object(S.jsx)("input",{type:"text",value:this.state.name,onChange:this.handleInput,name:"name"})]}),Object(S.jsxs)("label",{children:["Number",Object(S.jsx)("input",{type:"tel",value:this.state.number,onChange:this.handleInput,name:"number"})]}),Object(S.jsx)("button",{type:"submit",children:"Add contact"})]})]})}}]),n}(c.Component),E={onAddContacts:y.addContacts},q=Object(b.b)(null,E)(R),F=n(68),L=n(67),w=n(18),k=function(t){return t.contacts.items},I=function(t){return t.contacts.filter},A={getLoading:function(t){return t.contacts.loading},getContactItems:k,getAlert:function(t){return t.contacts.alert},getValueFilter:I,getContactList:Object(w.a)([k,I],(function(t,e){return t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}))}))};n(64);var N,D,J={onRemoveContact:y.removeContact},P=Object(b.b)((function(t){return{contacts:A.getContactList(t)}}),J)((function(t){var e=t.contacts,n=t.onRemoveContact;return Object(S.jsx)("div",{children:Object(S.jsx)(F.a,{component:"ul",children:e.map((function(t){return Object(S.jsx)(L.a,{timeout:250,classNames:"contacts",children:Object(S.jsxs)("li",{children:[" ",t.name,": ",t.number,Object(S.jsx)("button",{type:"button",onClick:function(){return n(t.id)},children:"x"})]})},t.id)}))})})})),V=function(t){Object(u.a)(n,t);var e=Object(i.a)(n);function n(){var t;Object(r.a)(this,n);for(var c=arguments.length,a=new Array(c),o=0;o<c;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))).handleInput=function(e){t.props.onInputFilter(e.target.value)},t}return Object(s.a)(n,[{key:"render",value:function(){return Object(S.jsxs)("div",{children:[Object(S.jsx)("h3",{children:"Find contacts by name"}),Object(S.jsx)("input",{type:"text",onChange:this.handleInput})]})}}]),n}(c.Component),B={onInputFilter:x.addFilter},M=Object(b.b)((function(t){return{value:A.getValueFilter(t)}}),B)(V),U=function(t){Object(u.a)(n,t);var e=Object(i.a)(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.props.onFetchContacts()}},{key:"render",value:function(){return Object(S.jsxs)("div",{children:[Object(S.jsx)(q,{}),this.props.contacts.length>0?Object(S.jsx)(M,{}):Object(S.jsx)("h2",{children:"Contact list is empty! Please add contact!"}),this.props.isLoadingContacts&&Object(S.jsx)("h1",{children:"Loading contacts......"}),Object(S.jsx)(P,{})]})}}]),n}(c.Component),z={onFetchContacts:y.fetchContacts},G=Object(b.b)((function(t){return{isLoadingContacts:A.getLoading(t),contacts:A.getContactItems(t),isAlertContacts:A.getAlert(t)}}),z)(U),H=n(19),K=n(4),Q=Object(f.c)([],(N={},Object(d.a)(N,x.fetchContactsSuccess,(function(t,e){return e.payload})),Object(d.a)(N,x.addContactsSuccess,(function(t,e){return t.find((function(t){return t.name.toLowerCase()===e.payload.name.toLowerCase()}))?alert("".concat(e.payload.name," is already in contacts ")):[].concat(Object(H.a)(t),[e.payload])})),Object(d.a)(N,x.removeContactsSuccess,(function(t,e){return t.filter((function(t){return t.id!==e.payload}))})),N)),T=Object(f.c)("",Object(d.a)({},x.addFilter,(function(t,e){return e.payload.filter}))),W=Object(f.c)(!1,(D={},Object(d.a)(D,x.fetchContactsRequest,(function(){return!0})),Object(d.a)(D,x.addContactsRequest,(function(){return!0})),Object(d.a)(D,x.removeContactsRequest,(function(){return!0})),Object(d.a)(D,x.addContactsSuccess,(function(){return!1})),Object(d.a)(D,x.fetchContactsSuccess,(function(){return!1})),Object(d.a)(D,x.removeContactsSuccess,(function(){return!1})),Object(d.a)(D,x.addContactsError,(function(){return!1})),Object(d.a)(D,x.fetchContactsError,(function(){return!1})),Object(d.a)(D,x.removeContactsError,(function(){return!1})),D)),X=Object(f.c)(!1,{}),Y=Object(K.c)({items:Q,filter:T,loading:W,alert:X}),Z=Object(K.c)({contacts:Y}),$=Object(f.d)(),_=Object(f.a)({reducer:Z,middleware:Object(H.a)($)});o.a.render(Object(S.jsx)(b.a,{store:_,children:Object(S.jsx)(G,{})}),document.getElementById("root"))}},[[65,1,2]]]);
//# sourceMappingURL=main.37359974.chunk.js.map